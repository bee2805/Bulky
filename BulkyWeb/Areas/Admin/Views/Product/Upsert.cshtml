@model ProductVM

<div class="card shadow border-0 mt-4">
    <div class="card-header ml-0 py-3">
        <div class="row">
            <div class="col-12 text-center">
                <h2 class="text-primary py-2">@(Model.Product.Id!=0?"Update":"Create") Product</h2>
            </div>
        </div>
    </div>
    <div class="card-body p-5">
        <form method="post" class="row" enctype="multipart/form-data">
            @*<div asp-validation-summary="None" class="text-danger mb-3"></div>*@
            <input asp-for="Product.Id" hidden/>
            <div class="mb-3">
                <label asp-for="Product.Title"></label>
                <input asp-for="Product.Title" class="form-control" />
                <span asp-validation-for="Product.Title" class="text-danger text-small"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Product.Description"></label>
                <textarea asp-for="Product.Description" class="form-control"></textarea>
            </div>

            <div class="mb-3">
                <label asp-for="Product.ISBN"></label>
                <input asp-for="Product.ISBN" class="form-control" />
                <span asp-validation-for="Product.ISBN" class="text-danger text-small"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Product.Author"></label>
                <input asp-for="Product.Author" class="form-control" />
                <span asp-validation-for="Product.Author" class="text-danger text-small"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Product.ListPrice"></label>
                <input asp-for="Product.ListPrice" class="form-control" />
                <span asp-validation-for="Product.ListPrice" class="text-danger text-small"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Product.Price"></label>
                <input asp-for="Product.Price" class="form-control" />
                <span asp-validation-for="Product.Price" class="text-danger text-small"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Product.Price50"></label>
                <input asp-for="Product.Price50" class="form-control" />
                <span asp-validation-for="Product.Price50" class="text-danger text-small"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Product.Price100"></label>
                <input asp-for="Product.Price100" class="form-control" />
                <span asp-validation-for="Product.Price100" class="text-danger text-small"></span>
            </div>

            <div class="mb-3">
                <label asp-for="@Model.Product.CategoryId"></label>
                <select asp-for="Product.CategoryId" class="form-select" asp-items="@Model.CategoryList">
                    <option disabled selected>--Select Category--</option>
                </select>
                <span asp-validation-for="Product.CategoryId" class="text-danger text-small"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Product.ImageUrl"></label>
                <input type="file" name="file" class="form-control" />
            </div>

            <div>
                @if (Model.Product.Id != 0)
                {
                    <button type="submit" class="width-auto btn btn-primary border">Update</button>
                }
                else
                {
                    <button type="submit" class="width-auto btn btn-primary border">Create</button>
                }

                <a asp-controller="Product" asp-action="Index" class="btn width-auto btn-secondary border">Back to List</a>
            </div>
        </form>
    </div>
</div>


@section Scripts{

    <script>tinymce.init({
        selector: 'textarea',
        plugins: 'anchor autolink charmap codesample emoticons link lists table visualblocks wordcount checklist mediaembed casechange export formatpainter pageembed linkchecker a11ychecker tinymcespellchecker permanentpen powerpaste advtable advcode editimage advtemplate ai mentions tinycomments tableofcontents footnotes mergetags autocorrect typography inlinecss markdown',
        toolbar: 'undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | addcomment showcomments | spellcheckdialog a11ycheck typography | align lineheight | checklist numlist bullist indent outdent ',
        tinycomments_mode: 'embedded',
        tinycomments_author: 'Author name',
        mergetags_list: [
          { value: 'First.Name', title: 'First Name' },
          { value: 'Email', title: 'Email' },
        ],
        ai_request: (request, respondWith) => respondWith.string(() => Promise.reject("See docs to implement AI Assistant")),
      });
    </script>
    @{
        <partial Product.Title="_ValidationScriptsPartial"/>
    }
}